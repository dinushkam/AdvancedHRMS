<Window x:Class="AdvancedHRMS.Views.EmployeeDashboard"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Employee Dashboard" 
        Height="700" 
        Width="1100"
        Style="{StaticResource StandardWindow}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" 
                Background="{StaticResource PrimaryBrush}" 
                Padding="15"
                CornerRadius="0">
            <DockPanel>
                <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                  <!--  <Image Source="/Assets/logo.png" Height="30" Margin="0,0,10,0"/> -->
                    <TextBlock Text="EMPLOYEE DASHBOARD" 
                               Foreground="White" 
                               FontSize="18" 
                               FontWeight="Bold"
                               VerticalAlignment="Center"/>

                    <Button Content="Logout" 
         Style="{StaticResource FooterButton}"
         Click="Logout_Click"
          Margin="800,0,0,0"
         DockPanel.Dock="Right"/>
                </StackPanel>

                <TextBlock Text="{Binding CurrentDate, StringFormat='Today: {0:dddd, MMMM dd}'}" 
                           Foreground="White"
                           DockPanel.Dock="Right"
                           VerticalAlignment="Center"
                           Margin="0,0,20,0"/>
            </DockPanel>
        </Border>

        <!-- Navigation and Main Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Navigation Sidebar -->
            <Border Grid.Column="0" 
                    Background="{StaticResource LightBrush}"
                   
                    BorderThickness="0,0,1,0">
                <StackPanel Margin="10">
                    <Button Content="My Profile"
                            Style="{StaticResource NavButton}"
                            Click="NavigateToProfile"/>

                    <Button Content="Attendance"
                            Style="{StaticResource NavButton}"
                            Click="NavigateToAttendance"/>

                    <Button Content="My Leave"
                            Style="{StaticResource NavButton}"
                            Click="NavigateToLeave"/>

                    <Button Content="Documents"
                            Style="{StaticResource NavButton}"
                            Click="NavigateToDocuments"/>

                    <Button Content="Request Leave"
                            Style="{StaticResource NavButton}"
                            Margin="0,20,0,0"
                            Click="RequestLeave_Click"/>
                </StackPanel>
            </Border>

            <!-- Main Content Area -->
            <TabControl Grid.Column="1" 
                        Background="Transparent"
                        BorderThickness="0"
                        Margin="10">
                <TabControl.Resources>
                    <Style TargetType="TabItem">
                        <Setter Property="FontWeight" Value="Normal"/>
                        <Setter Property="Foreground" Value="{StaticResource TextDarkBrush}"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                        <Setter Property="Padding" Value="10,5"/>
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="FontWeight" Value="Bold"/>
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </TabControl.Resources>
                <!-- Profile Tab -->
                <TabItem Header="My Profile" x:Name="ProfileTab">
                    <ScrollViewer Height="443" Width="865">
                        <StackPanel Margin="20">
                            <TextBlock Text="Profile Information" 
                                       Style="{StaticResource SectionHeader}"/>
                            <Separator Margin="0,5,0,15"/>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="150"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Text="Full Name:" Grid.Row="0" Grid.Column="0" Style="{StaticResource ProfileLabel}"/>
                                <TextBlock Text="{Binding Employee.FullName}" Grid.Row="0" Grid.Column="1" Style="{StaticResource ProfileValue}"/>

                                <TextBlock Text="Department:" Grid.Row="1" Grid.Column="0" Style="{StaticResource ProfileLabel}"/>
                                <TextBlock Text="{Binding Employee.Department}" Grid.Row="1" Grid.Column="1" Style="{StaticResource ProfileValue}"/>

                                <TextBlock Text="Email:" Grid.Row="2" Grid.Column="0" Style="{StaticResource ProfileLabel}"/>
                                <TextBlock Text="{Binding Employee.Email}" Grid.Row="2" Grid.Column="1" Style="{StaticResource ProfileValue}"/>

                                <TextBlock Text="Phone:" Grid.Row="3" Grid.Column="0" Style="{StaticResource ProfileLabel}"/>
                                <TextBlock Text="{Binding Employee.Phone}" Grid.Row="3" Grid.Column="1" Style="{StaticResource ProfileValue}"/>

                                <TextBlock Text="Date of Joining:" Grid.Row="4" Grid.Column="0" Style="{StaticResource ProfileLabel}"/>
                                <TextBlock Text="{Binding Employee.DateOfJoining, StringFormat=d}" Grid.Row="4" Grid.Column="1" Style="{StaticResource ProfileValue}"/>

                                <TextBlock Text="Salary:" Grid.Row="5" Grid.Column="0" Style="{StaticResource ProfileLabel}"/>
                                <TextBlock Text="{Binding Employee.Salary, StringFormat=C}" Grid.Row="5" Grid.Column="1" Style="{StaticResource ProfileValue}"/>
                            </Grid>

                            <Button Content="Edit Profile"
                                    Style="{StaticResource PrimaryButton}"
                                    Width="150"
                                    Margin="0,20,0,0"
                                    HorizontalAlignment="Left"
                                    Click="EditProfile_Click"/>
                        </StackPanel>
                    </ScrollViewer>
                </TabItem>

                <!-- Attendance Tab -->
                <TabItem Header="Attendance" x:Name="AttendanceTab">
                    <StackPanel Margin="20" HorizontalAlignment="Center">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button x:Name="CheckInButton"
                                    Content="Check In" 
                                    Style="{StaticResource PrimaryButton}"
                                    Width="150"
                                    Height="40"
                                    Margin="10"
                                    Click="CheckIn_Click"/>
                            <Button x:Name="CheckOutButton"
                                    Content="Check Out" 
                                    Style="{StaticResource PrimaryButton}"
                                    Width="150"
                                    Height="40"
                                    Margin="10"
                                    IsEnabled="False"
                                    Click="CheckOut_Click"/>
                        </StackPanel>
                        <TextBlock x:Name="AttendanceStatus" 
                                   Margin="10"
                                   TextWrapping="Wrap"
                                   Style="{StaticResource StatusMessage}"/>
                    </StackPanel>
                </TabItem>

                <!-- Leave Tab -->
                <TabItem Header="My Leave" x:Name="LeaveTab">
                    <StackPanel Margin="20">
                        <Button Content="Request New Leave" 
                                Style="{StaticResource PrimaryButton}"
                                Width="200"
                                Margin="0,0,0,15"
                                HorizontalAlignment="Left"
                                Click="RequestLeave_Click"/>

                        <DataGrid x:Name="dgMyLeaveRequests" 
                                 
                                  AutoGenerateColumns="False">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Type" Binding="{Binding LeaveType}" Width="120"/>
                                <DataGridTextColumn Header="Start Date" Binding="{Binding StartDate, StringFormat=d}" Width="120"/>
                                <DataGridTextColumn Header="End Date" Binding="{Binding EndDate, StringFormat=d}" Width="120"/>
                                <DataGridTextColumn Header="Days" Binding="{Binding Days}" Width="80"/>
                                <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="120">
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="HorizontalAlignment" Value="Center"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding Status}" Value="Approved">
                                                    <Setter Property="Foreground" Value="Green"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="Pending">
                                                    <Setter Property="Foreground" Value="Orange"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding Status}" Value="Rejected">
                                                    <Setter Property="Foreground" Value="Red"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </TabItem>

                <!-- Documents Tab -->
                <TabItem Header="Documents" x:Name="DocumentsTab">
                    <TextBlock Text="Documents management coming soon" 
                               Style="{StaticResource InfoMessage}"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </TabItem>
            </TabControl>
        </Grid>

        <!-- Footer -->
        <Border Grid.Row="2" 
                Background="{StaticResource DarkBrush}" 
                Padding="10">
            <DockPanel>
                <TextBlock 
    Text="{Binding Employee.FullName, StringFormat=Welcome {0}, FallbackValue='Welcome User'}"
    Foreground="White"/>
               
            </DockPanel>
        </Border>
    </Grid>
</Window>